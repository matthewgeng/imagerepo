FROM tiangolo/uvicorn-gunicorn-fastapi:python3.8-slim

WORKDIR /app

COPY requirements.txt .

RUN pip install --no-cache-dir -r requirements.txt

ENV PORT=$FASTAPI_PORT
ENV FASTAPI_PORT=$FASTAPI_PORT
ENV FASTAPI_FRONTEND=$FASTAPI_FRONTEND
ENV FASTAPI_PROXY=$FASTAPI_PROXY
ENV FASTAPI_PROD=$FASTAPI_PROD
ENV FASTAPI_HOST_IP=$FASTAPI_HOST_IP
ENV FASTAPI_HOST_NAME=$FASTAPI_HOST_NAME
ENV MONGO_INITDB_ROOT_USERNAME=$MONGO_ROOT_USERNAME
ENV MONGO_INITDB_ROOT_PASSWORD=$MONGO_ROOT_PASSWORD

COPY . .


